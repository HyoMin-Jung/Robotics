# 운반 로봇 제어 상황 분석 보고서

## 1. 로봇의 스펙 요약

* 바퀴 지름: 10 cm (반지름: 5 cm)
* 바퀴 둘레: $C = 2\pi r = 2\pi \times 5 = 31.42$ cm
* 엔코더 해상도: 1회전당 30펄스 → 1펄스당 이동 거리: $\frac{31.42}{30} \approx 1.047$ cm
* 바퀴 간 거리(휠 베이스): 20 cm
* IR 센서: 3개 센서 어레이, 감지 거리 5 cm, 출력값: 흰색=1, 검은색=0

---

## 2. IR 센서 입력 변화에 따른 제어 절차

### 상황: 센서값이 `000` → `100`으로 변경

* 의미: 로봇이 검은 경로 중앙에서 오른쪽으로 벗어남 → 왼쪽 센서만 흰색 감지

### 제어 절차:

1. **센서 데이터 분석**: `100`은 왼쪽이 흰색, 중앙·오른쪽이 검정 → 로봇이 우측으로 치우침
2. **오차 계산**: 라인 중심으로부터 벗어난 정도 추정 (예: 오차값 = +1)
3. **제어 신호 계산**: PID 또는 비례 제어로 오차값에 따른 방향 수정
4. **속도 보정**:

   * 왼쪽 바퀴 속도 ↓, 오른쪽 바퀴 속도 ↑ → 좌회전 유도
5. **라인 복귀 감지**: 센서값이 `010`으로 돌아오면 중앙 복귀

---

## 3. 엔코더 데이터 기반 로봇 이동 분석

### 측정된 엔코더 데이터:

1. **100펄스 동시 측정** → 직진
2. **왼쪽 20펄스, 오른쪽 10펄스** → 좌회전
3. **50펄스 동시 측정** → 직진

### 3.1 거리 계산

* 1펄스 거리: 1.047 cm
* 1단계 직진: 100펄스 × 1.047 = 104.7 cm
* 2단계 곡선 주행:

  * 왼쪽: 20펄스 → 20 × 1.047 = 20.94 cm
  * 오른쪽: 10펄스 → 10 × 1.047 = 10.47 cm
* 3단계 직진: 50펄스 × 1.047 = 52.35 cm

### 3.2 회전 반경 및 회전 각도 계산

* $R = \frac{L}{2} \times \frac{V_r + V_l}{V_r - V_l}$

  * $L = 20$ cm, $V_r = 10.47$, $V_l = 20.94$
  * $R = 10 \times \frac{10.47 + 20.94}{10.47 - 20.94} = 10 \times \frac{31.41}{-10.47} \approx -30$ cm (좌측 회전, 음수)

* 회전 중심 기준 회전 각도:
  $\theta = \frac{\Delta d}{R} = \frac{10.47}{30} \approx 0.349 \text{ rad} \approx 20 \degree$

### 총 이동 설명:

* 직진 약 104.7cm 후 좌측으로 약 20도 회전하면서 반지름 30cm의 원호 주행 (내륜 10.47cm 이동), 이후 다시 52.35cm 직진함.
