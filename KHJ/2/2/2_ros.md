패키지(Package)와 노드(Node)는 ROS2에서 로봇 제어 프로그램을 구성하는 핵심 개념이다.

---

### **패키지(Package)**

ROS2 소프트웨어의 **최상위 조직 단위**이자 **기본적인 개발 및 배포 단위**이다. 특정 기능 또는 목적을 위해 관련된 모든 파일들을 논리적으로 묶어놓은 디렉토리 구조이다. 패키지는 다음과 같은 요소를 포함할 수 있다.

* **노드(Node)**: 실제 기능을 수행하는 실행 파일들.
* **라이브러리(Library)**: 여러 노드에서 공유될 수 있는 코드 모음.
* **설정 파일(Configuration File)**: 노드의 동작 방식이나 파라미터(Parameter) 등을 정의하는 파일.
* **메시지/서비스/액션 정의(Message/Service/Action Definitions)**: 노드 간 통신에 사용되는 데이터 구조.
* **기타 리소스(Other Resources)**: 모델 파일, 이미지 등.

모든 패키지는 패키지의 메타데이터(Metadata)와 의존성(Dependency) 정보를 담는 **`package.xml`** 파일을 포함해야 한다. 패키지는 소프트웨어의 **모듈성(Modularity)**과 **재사용성(Reusability)**을 높이며, 대규모 프로젝트를 체계적으로 관리할 수 있도록 돕는다.

---

### **노드(Node)**

ROS2 시스템 내에서 **특정 기능을 수행하는 독립적인 실행 프로세스(Process)**이다. 각 노드는 고유한 역할을 담당하며, 예를 들어 카메라 이미지 처리, 모터 제어, 센서 데이터 발행(Publishing) 등 하나의 집중된 작업을 수행한다. 노드들은 다음 메커니즘을 통해 서로 통신한다.

* **토픽(Topic)**: 비동기적(Asynchronous) 메시지 발행/구독(Publish/Subscribe) 통신.
* **서비스(Service)**: 동기적(Synchronous) 요청/응답(Request/Reply) 통신.
* **액션(Action)**: 장시간 실행되는 작업을 위한 목표/피드백/결과(Goal/Feedback/Result) 통신.

노드는 패키지 내부에 포함되어 있으며, 패키지가 제공하는 전반적인 기능을 구현하는 데 기여한다.

---

### **패키지와 노드의 관계**

패키지와 노드의 관계는 다음과 같이 설명할 수 있다.

* **포함 관계**: 패키지는 하나 이상의 노드를 포함하는 **컨테이너(Container)** 역할을 한다. 노드는 패키지라는 울타리 안에서 개발되고 관리된다.
* **논리적 그룹화**: 패키지는 관련된 노드들을 **논리적으로 그룹화**하여 특정 기능 집합을 형성한다. 이는 프로젝트의 구조를 명확히 하고 이해를 돕는다.
* **시스템 구성 요소**: 노드는 ROS2 시스템의 **실질적인 동작 단위**이며, 패키지는 이러한 노드들을 효율적으로 조직하고 관리하기 위한 **구조적인 틀**을 제공한다.
* **개발 흐름**: 개발자는 먼저 특정 기능을 수행할 패키지를 생성하고, 그 패키지 내부에 필요한 노드들을 구현한다. 이후 패키지 단위로 빌드(Build) 및 배포(Deployment)가 이루어진다.

이처럼 패키지와 노드는 ROS2 기반 로봇 소프트웨어 시스템을 구성하고 관리하는 데 필수적인 상호보완적 개념이다.