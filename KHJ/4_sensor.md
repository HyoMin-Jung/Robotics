## 센서의 기본 개념 및 IR 센서 학습

이번 학습 목표는 센서의 기본적인 개념을 이해하고, 특히 IR 센서에 대해 상세히 알아보는 것입니다. 이를 위해 센서 전반에 대한 내용과 IR 센서의 특정 측면을 조사하고 학습했습니다.

### 기구로서의 센서

**1. 센서의 정의 및 역할**

센서는 물리적, 화학적, 생물학적 또는 환경적인 현상(예: 온도, 압력, 빛, 소리, 화학 물질의 존재 등)을 감지하여 이를 전기적 신호나 다른 형태의 신호로 변환하는 장치입니다. 센서의 주된 역할은 우리가 직접 인지하기 어려운 외부 세계의 정보를 수집하여 시스템이나 인간이 이해하고 처리할 수 있는 형태로 제공하는 것입니다. 이는 제어, 모니터링, 측정, 자동화 등 다양한 응용 분야에서 핵심적인 기능을 수행합니다.

**2. 센서의 유형과 용도**

센서는 감지 대상 및 원리에 따라 매우 다양한 유형으로 분류될 수 있습니다. 몇 가지 주요 유형과 그 용도는 다음과 같습니다.

* **온도 센서:** 온도를 측정하며, HVAC 시스템, 산업 공정 제어, 의료 기기 등에 사용됩니다. (예: 서미스터, 열전대, RTD)
* **압력 센서:** 압력을 측정하며, 기상 관측, 자동차 타이어 압력 모니터링, 산업 공정 제어 등에 사용됩니다.
* **광 센서:** 빛의 유무나 강도를 감지하며, 자동 조명 시스템, 카메라 노출 제어, 바코드 스캐너 등에 사용됩니다. (예: 포토다이오드, 포토트랜지스터)
* **근접 센서:** 물체의 접근을 비접촉식으로 감지하며, 스마트폰 자동 화면 꺼짐, 주차 보조 시스템, 산업 자동화 등에 사용됩니다. (예: 적외선, 초음파, 용량성 센서)
* **가속도 센서:** 물체의 가속도를 측정하며, 스마트폰 화면 회전, 자동차 에어백 시스템, 진동 감지 등에 사용됩니다.
* **습도 센서:** 대기 중의 습도를 측정하며, 기상 관측, 공조 시스템, 식품 보관 등에 사용됩니다.
* **가스 센서:** 특정 가스의 존재나 농도를 감지하며, 화재 경보 시스템, 대기 오염 측정, 산업 안전 등에 사용됩니다.

이 외에도 힘 센서, 유량 센서, 자기 센서, 이미지 센서 등 수많은 종류의 센서가 존재하며, 각기 다른 용도로 활용됩니다.

**3. 센서 신호의 유형 - 아날로그 신호와 디지털 신호**

센서가 출력하는 신호는 크게 아날로그 신호와 디지털 신호로 나눌 수 있습니다.

* **아날로그 신호 (Analog Signal):** 시간이 지남에 따라 연속적으로 변화하는 물리량을 나타내는 신호입니다. 전압이나 전류의 크기가 물리량의 변화에 비례하여 무한히 작은 값까지 변화할 수 있습니다. 예를 들어, 전통적인 온도 센서의 출력 전압은 온도가 미세하게 변함에 따라 연속적으로 변화하는 아날로그 신호일 수 있습니다.
* **디지털 신호 (Digital Signal):** 불연속적인 단계(보통 '0'과 '1')로 표현되는 신호입니다. 특정 시점에서 신호의 값이 정해진 이산적인 값들 중 하나만을 가집니다. 디지털 신호는 노이즈에 강하고 데이터 처리가 용이하다는 장점이 있습니다. 많은 최신 센서는 내부적으로 물리량을 감지한 후 이를 디지털 신호로 변환하여 출력합니다.

**4. 센서의 해상도와 정확도**

* **해상도 (Resolution):** 센서가 감지할 수 있는 물리량의 가장 작은 변화량입니다. 해상도가 높을수록 센서는 더 미세한 변화를 감지할 수 있습니다. 예를 들어, 온도 센서의 해상도가 $0.1^\circ C$라면, 이 센서는 $0.05^\circ C$의 온도 변화는 감지하지 못하고 최소 $0.1^\circ C$ 이상의 변화만 감지할 수 있습니다.
* **정확도 (Accuracy):** 센서가 측정한 값이 실제 물리량에 얼마나 가까운지를 나타냅니다. 정확도는 센서의 측정값과 참값 사이의 오차를 의미하며, 오차가 작을수록 정확도가 높습니다. 정확도는 일반적으로 백분율(%)이나 특정 단위의 오차 범위로 표현됩니다. 정확도는 교정(Calibration)을 통해 개선될 수 있습니다.

**5. 응답 시간과 샘플링 속도의 개념**

* **응답 시간 (Response Time):** 물리량의 변화가 발생했을 때 센서의 출력이 최종 값의 일정 범위(예: 90% 또는 95%)에 도달하는 데 걸리는 시간입니다. 응답 시간이 짧을수록 센서는 빠르게 변화하는 현상을 효과적으로 감지할 수 있습니다.
* **샘플링 속도 (Sampling Rate):** 디지털 센서나 아날로그 신호를 디지털로 변환할 때, 초당 몇 번 신호의 값을 읽어들이는지를 나타냅니다. 단위는 헤르츠(Hz)입니다. 샘플링 속도가 높을수록 원래 신호의 변화를 더 정확하게 포착할 수 있지만, 데이터 처리량과 저장 공간 요구량이 증가합니다. 나이키스트-섀넌 표본화 정리(Nyquist-Shannon Sampling Theorem)에 따르면, 원래 신호의 최고 주파수보다 최소 두 배 이상의 샘플링 속도로 샘플링해야 신호의 정보를 손실 없이 복원할 수 있습니다.

**6. 센서의 노이즈와 필터링**

* **노이즈 (Noise):** 센서가 감지하려는 실제 물리량 신호 외에 센서 출력에 포함되는 불필요하고 무작위적인 신호입니다. 노이즈는 센서 자체의 특성, 주변 환경(전기적 간섭, 온도 변화 등), 또는 신호 전송 과정에서 발생할 수 있습니다. 노이즈는 측정값의 정확도를 떨어뜨리고 신호 분석을 어렵게 만듭니다.
* **필터링 (Filtering):** 센서 신호에 포함된 노이즈를 제거하거나 줄이는 과정입니다. 전기적 필터(하드웨어)나 디지털 신호 처리 기법(소프트웨어)을 사용하여 특정 주파수 대역의 신호를 제거하거나 통과시켜 노이즈를 감소시킵니다. 저역 통과 필터(Low-pass filter)는 고주파 노이즈를 제거하는 데 주로 사용됩니다.

### IR 센서

**1. IR 센서의 기본 원리**

IR 센서(Infrared Sensor, 적외선 센서)는 적외선(Infrared radiation)을 이용하여 물체의 유무, 거리, 온도 등을 감지하는 센서입니다. 적외선은 가시광선보다 파장이 길고 전자파 스펙트럼에서 가시광선 바로 옆에 위치합니다. IR 센서는 크게 두 가지 방식으로 작동합니다.

* **방출형 (Active) IR 센서:** 적외선 발광체(주로 IR LED)에서 적외선을 방출하고, 이 적외선이 물체에 반사되어 수광체(주로 포토다이오드 또는 포토트랜지스터)에 도달하는 양을 측정합니다. 반사된 적외선의 양은 물체와의 거리, 물체의 반사율 등에 따라 달라집니다. 라인 트레이싱 로봇에 사용되는 대부분의 IR 센서가 이 방식입니다.
* **수동형 (Passive) IR 센서:** 물체에서 자연적으로 방출되는 적외선(체온, 열 등)을 감지합니다. 주로 인체 감지 센서(PIR 센서)에 사용됩니다.

라인 트레이싱에 사용되는 IR 센서는 대부분 방출형 IR 센서입니다. IR LED에서 적외선을 방출하고, 바닥면의 흰색/검은색 라인에서 반사되는 적외선의 양 차이를 감지하여 라인의 위치를 파악합니다. 흰색은 적외선을 잘 반사하고, 검은색은 적외선을 잘 흡수하는 특성을 이용합니다.

**2. IR 센서의 구성 요소**

방출형 IR 센서는 주로 다음 두 가지 주요 구성 요소로 이루어집니다.

* **IR 발광체 (IR Emitter):** 적외선을 방출하는 부품입니다. 일반적으로 적외선 발광 다이오드(IR LED)가 사용됩니다. 특정 파장의 적외선(예: 850nm 또는 940nm)을 방출합니다.
* **IR 수광체 (IR Detector):** 적외선을 감지하는 부품입니다. 주로 포토다이오드(Photodiode)나 포토트랜지스터(Phototransistor)가 사용됩니다. 이들 부품은 적외선이 조사되면 전기적 특성(전류 또는 저항)이 변화하며, 이 변화를 측정하여 적외선의 강도를 파악합니다.

이 두 부품은 보통 나란히 배치되어 있으며, 발광체에서 나온 적외선이 외부 물체에 반사되어 수광체로 들어오는 구조입니다.

**3. 라인 트레이싱을 위한 라인 감지에 적합한 IR 센서의 특성**

라인 트레이싱은 바닥의 라인(주로 검은색 또는 흰색)을 따라 이동하는 로봇의 핵심 기술입니다. 라인 감지에 적합한 IR 센서는 다음과 같은 특성을 가집니다.

* **적절한 감지 거리:** 라인 트레이싱 로봇은 일반적으로 바닥면 가까이에서 작동하므로, 센서가 바닥면과의 짧은 거리(보통 몇 밀리미터에서 수 센티미터)에서 효과적으로 작동해야 합니다.
* **흰색과 검은색 표면에서의 뚜렷한 반사율 차이 감지 능력:** 센서는 흰색 라인(높은 반사율)과 검은색 배경(낮은 반사율) 또는 그 반대의 경우에서 반사되는 적외선 양의 차이를 명확하게 구분할 수 있어야 합니다. 이 차이가 클수록 라인과 배경을 더 쉽게 구별할 수 있습니다.
* **주변광 간섭에 대한 내성:** 태양광이나 형광등과 같은 주변광에도 적외선 성분이 포함될 수 있으므로, 센서가 주변광의 영향을 덜 받도록 설계되거나 신호 처리 단계에서 주변광 노이즈를 제거하는 기능이 필요합니다. 변조된 IR 신호를 사용하는 방식 등이 이에 해당됩니다.
* **소형 및 경량:** 라인 트레이싱 로봇에 여러 개의 센서가 배치되는 경우가 많으므로, 센서 자체의 크기가 작고 가벼워야 로봇 설계에 용이합니다.
* **빠른 응답 속도:** 로봇이 이동하면서 실시간으로 라인을 추적해야 하므로, 센서의 응답 속도가 빨라야 합니다.

**4. IR 센서의 신호 처리**

방출형 IR 센서의 수광체(포토다이오드 또는 포토트랜지스터)는 수신된 적외선 양에 비례하는 아날로그 전기 신호(전류 또는 전압)를 생성합니다. 이 아날로그 신호는 라인 감지를 위해 다음과 같은 신호 처리 과정을 거치는 경우가 많습니다.

* **전류-전압 변환 (포토다이오드 사용 시):** 포토다이오드는 전류 출력이므로, 이를 회로를 통해 전압 신호로 변환합니다.
* **증폭 (Amplification):** 센서의 출력 신호는 매우 작을 수 있으므로, 정확한 측정을 위해 신호 증폭기를 사용하여 신호의 크기를 키웁니다.
* **필터링 (Filtering):** 주변광 간섭이나 전기적 노이즈와 같은 불필요한 신호를 제거하기 위해 필터(하드웨어 또는 소프트웨어)를 적용합니다.
* **아날로그-디지털 변환 (ADC):** 아날로그 신호를 마이크로컨트롤러와 같은 디지털 시스템에서 처리하기 위해 디지털 값으로 변환합니다. ADC 해상도에 따라 신호의 미세한 변화를 얼마나 정밀하게 디지털화할 수 있는지 결정됩니다.
* **임계값 비교 또는 분석:** 변환된 디지털 값은 미리 설정된 임계값과 비교하여 물체의 유무나 라인의 종류(흰색/검은색)를 판단합니다. 또는 여러 센서의 값을 종합적으로 분석하여 라인의 위치나 로봇의 현재 상태를 파악합니다.

**5. IR 센서의 배치 시에 유의할 사항**

* **바닥면과의 거리:** 센서의 감지 성능은 바닥면과의 거리에 크게 좌우됩니다. 센서 제조사가 권장하는 최적의 감지 거리에 맞춰 배치하는 것이 중요합니다. 거리가 너무 멀면 신호가 약해지고, 너무 가까우면 특정 물체에만 반응하거나 측정 범위가 좁아질 수 있습니다.
* **배치 간격 및 개수:** 라인의 위치를 정밀하게 파악하고 로봇의 움직임을 제어하기 위해 여러 개의 IR 센서를 일렬로 배치하는 경우가 많습니다. 센서 간의 간격과 전체 개수는 라인 트레이싱 성능에 영향을 미칩니다. 간격이 너무 넓으면 라인 감지 사각지대가 생길 수 있고, 개수가 많을수록 정밀도는 높아지지만 회로 구성이 복잡해지고 비용이 증가합니다.
* **주변광 차폐:** 센서가 주변광의 영향을 최소화하도록 센서 주변에 물리적인 차폐 구조물을 설치하는 것이 좋습니다.
* **센서 방향:** 발광체와 수광체의 방향은 바닥면을 정확하게 향하도록 배치해야 합니다. 일부 센서는 특정 각도에서 성능이 저하될 수 있으므로, 데이터 시트를 확인하여 최적의 각도를 유지해야 합니다.
* **상호 간섭 방지:** 여러 개의 IR 센서를 사용할 경우, 인접한 센서의 발광체에서 나온 적외선이 다른 센서의 수광체에 간섭을 일으킬 수 있습니다. 변조된 신호를 사용하거나 순차적으로 센서를 구동하는 방식 등을 통해 상호 간섭을 최소화해야 합니다.
* **진동 및 충격 방지:** 로봇이 움직이면서 발생하는 진동이나 충격이 센서의 성능에 영향을 미치지 않도록 안정적으로 고정해야 합니다.
