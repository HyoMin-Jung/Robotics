# 제어 시스템의 기초와 PID 제어

## 1. 제어 시스템의 기초

### 1.1. 제어 시스템의 개념(Concept of Control System)

**제어 시스템(Control System)**은 우리가 원하는 특정 목표를 달성하기 위해 시스템의 동작을 조절하는 일련의 장치 또는 과정입니다. 예를 들어, 로봇을 특정 위치로 이동시키거나, 온도를 일정하게 유지하는 것 등이 모두 제어 시스템의 한 형태라고 볼 수 있습니다. 제어 시스템은 복잡한 동적 시스템의 거동을 원하는 대로 조작하여 목표를 이루는 데 사용됩니다.

### 1.2. 제어의 목표(Goals of Control)

제어의 주된 목표는 다음과 같습니다.

* **정확성(Accuracy)**: 시스템이 목표값을 얼마나 정확하게 따라가는지 나타냅니다.
* **안정성(Stability)**: 시스템이 외부 방해나 내부 변화에도 불구하고 예측 가능한 범위 내에서 동작하는지 나타냅니다. 불안정한 시스템은 제어 불능 상태에 빠질 수 있습니다.
* **응답성(Responsiveness)**: 시스템이 목표값의 변화나 외부 방해에 얼마나 빠르게 반응하는지 나타냅니다.
* **강인성(Robustness)**: 시스템의 특성이나 외부 환경이 변하더라도 제어 성능이 크게 저하되지 않는 능력을 의미합니다.

---

## 2. 피드백 제어의 기본 개념 및 구조

### 2.1. 피드백 제어의 기본 개념(Basic Concepts of Feedback Control)

**피드백 제어(Feedback Control)**는 제어하고자 하는 시스템의 현재 상태(출력)를 측정하여, 이 측정값과 우리가 원하는 목표값(기준값)을 비교하고, 그 차이(오차)를 이용하여 시스템을 제어하는 방식입니다.

* **피드백(Feedback)**: 시스템의 출력값을 측정하여 다시 입력으로 되돌리는 과정을 의미합니다. 이 정보를 통해 현재 상태와 목표 상태의 차이를 알 수 있습니다.
* **목표값(Set Point, Reference Value)**: 시스템이 도달해야 할 또는 유지해야 할 원하는 값입니다.
* **오차(Error)**: 목표값과 현재 시스템의 측정값(출력) 간의 차이입니다. 제어기는 이 오차를 줄이는 방향으로 작동합니다. $e(t) = r(t) - y(t)$ (여기서 $e(t)$는 오차, $r(t)$는 목표값, $y(t)$는 측정값입니다).

### 2.2. 피드백 제어의 기본 구조(Basic Structure of Feedback Control)

제어 시스템은 크게 **오픈 루프(Open-Loop)**와 **클로즈드 루프(Closed-Loop)** 방식으로 나눌 수 있습니다. 피드백 제어는 클로즈드 루프 방식에 해당합니다.

* **오픈 루프(Open-Loop Control)**: 제어기의 출력이 시스템에 직접 가해지며, 시스템의 실제 출력을 측정하여 제어기에 다시 전달하지 않습니다. 따라서 외부 교란이나 시스템 특성 변화에 강인하지 못하며, 정확한 제어가 어렵습니다.

    ```mermaid
    graph TD
        A[기준 입력] --> B(제어기)
        B --> C[제어 대상]
        C --> D[출력]
    ```

* **클로즈드 루프(Closed-Loop Control)**: 시스템의 출력을 측정하여 이를 목표값과 비교하고, 오차를 줄이는 방향으로 제어 신호를 생성합니다. 이 방식은 외부 교란이나 시스템 특성 변화에 강인하며, 더 정확한 제어가 가능합니다.

    ```mermaid
    graph TD
        A[목표값] --> E{합산점}
        E --> B(제어기)
        B --> C[제어 대상]
        C --> D[출력]
        D --> F(측정 센서)
        F --> E
        E -- "- 오차" --> B
    ```

    * **제어 시스템의 구성 요소(Components of Control System)**:
        * **제어기(Controller)**: 오차 신호를 받아 제어 대상에 가해질 제어량(조작량)을 결정합니다.
        * **제어 대상(Plant)**: 제어를 받고자 하는 물리적인 시스템(예: 로봇 팔, 모터 등)입니다.
        * **측정 센서(Sensor)**: 제어 대상의 출력값을 측정하여 제어기로 피드백합니다.
        * **합산점(Summing Junction)**: 목표값과 측정된 출력값을 비교하여 오차 신호를 생성합니다.

---

## 3. PID 제어의 개념(Concept of PID Control)

**PID 제어(Proportional-Integral-Derivative Control)**는 산업 현장에서 가장 널리 사용되는 피드백 제어 방식 중 하나입니다. 시스템의 오차를 기반으로 제어 신호를 생성하며, 오차의 **비례(Proportional)**, **적분(Integral)**, **미분(Derivative)** 세 가지 요소의 합으로 제어량을 결정합니다.

### 3.1. P, I, D 각각의 의미(Meaning of P, I, D)

* **P (Proportional) - 비례 제어(Proportional Control)**:
    * **의미**: 현재 오차에 비례하여 제어량을 결정합니다. 오차가 클수록 강한 제어력을 가합니다.
    * **역할**: 시스템의 현재 오차를 즉각적으로 반영하여 빠른 응답을 제공합니다. 그러나 비례 이득($K_p$)이 너무 크면 불안정해질 수 있고, **정상 상태 오차(Steady-State Error)**(시스템이 목표값에 완전히 도달하지 못하고 일정한 오차를 유지하는 현상)가 발생할 수 있습니다.

* **I (Integral) - 적분 제어(Integral Control)**:
    * **의미**: 과거의 누적된 오차에 비례하여 제어량을 결정합니다. 즉, 오차가 지속되는 시간을 고려합니다.
    * **역할**: 정상 상태 오차를 제거하는 데 효과적입니다. 과거 오차를 누적하여 제어량을 증가시키므로, 시스템이 목표값에 도달할 때까지 제어력을 유지합니다. 하지만 적분 이득($K_i$)이 너무 크면 **오버슈트(Overshoot)**(목표값을 넘어갔다가 다시 돌아오는 현상)나 진동이 심해질 수 있습니다.

* **D (Derivative) - 미분 제어(Derivative Control)**:
    * **의미**: 미래의 오차 변화율에 비례하여 제어량을 결정합니다. 오차가 급격하게 변하는 것을 억제합니다.
    * **역할**: 시스템의 오차 변화를 미리 예측하여 급격한 변화를 억제하고 안정성을 향상시킵니다. 오버슈트를 줄이고 시스템의 반응 속도를 개선하는 데 도움이 됩니다. 그러나 미분 이득($K_d$)이 너무 크면 노이즈에 민감하게 반응하여 시스템이 불안정해질 수 있습니다.

### 3.2. P, I, D 각 항목의 역할과 수학적 표현(Role and Mathematical Expression of P, I, D Terms)

PID 제어기의 출력 $u(t)$는 다음과 같이 수학적으로 표현됩니다.

$$u(t) = K_p e(t) + K_i \int e(t) dt + K_d \frac{de(t)}{dt}$$

여기서:
* $u(t)$: 제어기의 출력 (제어 대상에 가해지는 제어량)
* $e(t)$: 오차 ($r(t) - y(t)$)
* $K_p$: 비례 이득(Proportional Gain)
* $K_i$: 적분 이득(Integral Gain)
* $K_d$: 미분 이득(Derivative Gain)

---

## 4. PID 튜닝(PID Tuning)

**PID 튜닝(PID Tuning)**은 PID 제어기의 세 가지 이득 값($K_p, K_i, K_d$)을 최적화하여 시스템의 성능을 원하는 대로 맞추는 과정입니다. 잘못된 튜닝은 시스템의 불안정성, 과도한 진동, 느린 응답 등을 초래할 수 있습니다.

튜닝 방법은 여러 가지가 있지만, 대표적인 방법은 다음과 같습니다.

* **지글러-니콜스 방법(Ziegler-Nichols Method)**: 경험적인 튜닝 방법으로, 시스템의 임계 이득과 임계 주기를 찾아 이를 기반으로 $K_p, K_i, K_d$ 값을 계산합니다.
* **시행착오 방법(Trial and Error)**: 가장 기본적인 방법으로, 제어기의 각 이득 값을 수동으로 조절해가며 시스템의 응답을 관찰하고 최적의 값을 찾아냅니다. 일반적으로 P부터 시작하여 I, D 순으로 조절합니다.
* **모델 기반 튜닝(Model-Based Tuning)**: 시스템의 수학적 모델을 구축하고, 이 모델을 기반으로 최적의 PID 이득 값을 계산합니다.
* **AI/머신러닝 기반 튜닝(AI/Machine Learning-Based Tuning)**: 인공지능 알고리즘을 사용하여 시스템의 응답을 학습하고 자동으로 최적의 PID 값을 찾아내는 방법입니다.